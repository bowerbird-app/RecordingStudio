<% content_for :title, "Folders" %>

<%= render FlatPack::Breadcrumb::Component.new(class: "mb-4") do |breadcrumb| %>
  <% breadcrumb.item(text: "Home", href: root_path) %>
  <% breadcrumb.item(text: "Folders") %>
<% end %>

<%= render FlatPack::Card::Component.new(class: "mb-6") do |card| %>
  <% card.header(divider: false) do %>
    <div>
      <h2 class="text-2xl font-semibold">Folders</h2>
      <p class="text-sm text-slate-500">Folder recordings in the workspace tree.</p>
    </div>
  <% end %>
<% end %>

<div class="mt-8 overflow-hidden rounded-lg border border-slate-200 bg-white">
  <% if @folders.any? %>
    <%= render FlatPack::Table::Component.new(data: @folders) do |table| %>
      <% table.column(title: "Name", html: ->(recording) { link_to(recording.recordable.name, folder_path(recording), class: "hover:underline") }) %>
      <% table.column(title: "Parent", html: ->(recording) { recordable_label(recording.parent_recording&.recordable) }) %>
      <% table.column(title: "Root", html: ->(recording) { recordable_label(recording.root_recording&.recordable) }) %>
    <% end %>
  <% else %>
    <div class="px-6 py-10 text-center text-sm text-slate-500">
      No folders found.
    </div>
  <% end %>
</div>
